---
import type { Project } from "@/data/projects";

type Props = Project;

const { title, techs, link, isComingSoon } = Astro.props;

const formatTechs = (values: string[]) =>
  values.toString().replaceAll(",", " â€¢ ");
---

<>
  {
    isComingSoon && (
      <div class="group flex h-full w-full flex-col justify-between rounded-lg border border-neutral-700 bg-neutral-800/30 p-6 transition-all duration-300 hover:-translate-y-1 hover:border-neutral-500 hover:bg-neutral-800/50 hover:shadow-xl hover:shadow-neutral-900/50">
        <div class="flex flex-col gap-4">
          <div class="flex items-start justify-between gap-3">
            <h3 class="text-lg font-semibold text-neutral-100 line-clamp-2 group-hover:text-white">
              {title}
            </h3>
          </div>
          
          <p class="text-sm text-neutral-400 line-clamp-2">
            {formatTechs(techs)}
          </p>
        </div>

        <div class="mt-4 flex items-center justify-between">
          <span class="inline-flex items-center rounded-full bg-blue-500/20 px-3 py-1 text-xs font-medium text-blue-400">
            Coming Soon
          </span>
        </div>
      </div>
    )
  }

  {
    !isComingSoon && (
      <a
        class="group flex h-full w-full cursor-pointer flex-col justify-between rounded-lg border border-neutral-700 bg-neutral-800/30 p-6 transition-all duration-300 hover:-translate-y-1 hover:border-neutral-500 hover:bg-neutral-800/50 hover:shadow-xl hover:shadow-neutral-900/50"
        href={link}
        target="_blank"
        rel="noreferrer prefetch"
      >
        <div class="flex flex-col gap-4">
          <div class="flex items-start justify-between gap-3">
            <h3 class="text-lg font-semibold text-neutral-100 line-clamp-2 group-hover:text-white">
              {title}
            </h3>
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              class="mt-1 flex-shrink-0 text-neutral-400 transition-all duration-300 group-hover:translate-x-1 group-hover:text-neutral-300"
            >
              <path
                d="M6 14L14 6"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M6 6H14V14"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          
          <p class="text-sm text-neutral-400 line-clamp-2">
            {formatTechs(techs)}
          </p>
        </div>
      </a>
    )
  }
</>
