---
import removeTrailingSlash from "@/utils/removeTrailingSlash";
import presentation from "@/data/presentation";
import MobileMenu from "@/components/MobileMenu.astro";

const pathname = removeTrailingSlash(Astro.url.pathname);
const notInHome = pathname !== "/";
---

<header class="flex w-full items-center justify-between py-3 sm:py-4">
  <!-- Logo/Brand -->
  <div class="flex items-center">
    {
      notInHome ? (
        <a 
          href="/" 
          class="text-xl font-bold bg-gradient-to-r from-indigo-400 via-purple-400 to-violet-400 bg-clip-text text-transparent hover:from-indigo-300 hover:via-purple-300 hover:to-violet-300 transition-all duration-300 ease-out"
          aria-current={pathname === "/" ? "page" : undefined}
        >
          Mahmudul
        </a>
      ) : (
        <a 
          href={`mailto:${presentation.mail}`} 
          class="text-lg font-medium text-gray-300 hover:text-white transition-all duration-300 ease-out relative group"
        >
          {presentation.mail}
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out group-hover:w-full"></span>
        </a>
      )
    }
  </div>

  <!-- Navigation -->
  <nav class="hidden md:block" role="navigation" aria-label="Primary">
    <ul role="list" class="flex items-center space-x-8">
      <li>
        <a
          href="/"
          class:list={{
            ["text-white font-medium relative transition-all duration-300 ease-out focus:outline-none"]: pathname === "/",
            ["text-gray-300 hover:text-white transition-all duration-300 ease-out relative group focus:outline-none"]: pathname !== "/",
          }}
          aria-current={pathname === "/" ? "page" : undefined}
        >
          Home
          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out"]: pathname === "/",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/",
          }}></span>

          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out"]: pathname === "/",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/",
          }}></span>
        </a>
      </li>
      <li>
        <a
          href="/resume"
          class:list={{
            ["text-white font-medium relative transition-all duration-300 ease-out focus:outline-none"]: pathname === "/resume",
            ["text-gray-300 hover:text-white transition-all duration-300 ease-out relative group focus:outline-none"]: pathname !== "/resume",
          }}
          aria-current={pathname === "/resume" ? "page" : undefined}
        >
          Resume
          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out"]: pathname === "/resume",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/resume",
          }}></span>

          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out"]: pathname === "/resume",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/resume",
          }}></span>
        </a>
      </li>
      <li>
        <a
          href="/posts"
          class:list={{
            ["text-white font-medium relative transition-all duration-300 ease-out focus:outline-none"]: pathname === "/posts",
            ["text-gray-300 hover:text-white transition-all duration-300 ease-out relative group focus:outline-none"]: pathname !== "/posts",
          }}
          aria-current={pathname === "/posts" ? "page" : undefined}
        >
          Posts
          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out"]: pathname === "/posts",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/posts",
          }}></span>

          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out"]: pathname === "/posts",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/posts",
          }}></span>
        </a>
      </li>
      <li>
        <a
          href="/planned"
          class:list={{
            ["text-white font-medium relative transition-all duration-300 ease-out focus:outline-none"]: pathname === "/planned",
            ["text-gray-300 hover:text-white transition-all duration-300 ease-out relative group focus:outline-none"]: pathname !== "/planned",
          }}
          aria-current={pathname === "/planned" ? "page" : undefined}
        >
          Plans
          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out"]: pathname === "/planned",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/planned",
          }}></span>

          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out"]: pathname === "/planned",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/planned",
          }}></span>
        </a>
      </li>
      <li>
        <a
          href="/til"
          class:list={{
            ["text-white font-medium relative transition-all duration-300 ease-out focus:outline-none"]: pathname === "/til",
            ["text-gray-300 hover:text-white transition-all duration-300 ease-out relative group focus:outline-none"]: pathname !== "/til",
          }}
          aria-current={pathname === "/til" ? "page" : undefined}
        >
          TIL
          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out"]: pathname === "/til",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400 to-purple-400 transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/til",
          }}></span>

          <span class:list={{
            ["absolute -bottom-1 left-0 w-full h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out"]: pathname === "/til",
            ["absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 blur-sm transition-all duration-300 ease-out group-hover:w-full"]: pathname !== "/til",
          }}></span>
        </a>
      </li>
    </ul>
  </nav>

  <MobileMenu />
</header>
